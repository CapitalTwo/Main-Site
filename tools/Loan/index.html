<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1.0"
    />
    <meta name="description" content="Online Loan Calculator" />
    <meta
      name="keywords"
      content="HTML, CSS, JavaScript, Calculator, Student Loan, Car Loan, Home Loan, Loan"
    />
    <meta name="author" content="Peter Daly and Ritika Mittal" />
    <title>Loan Calculator</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css"
    />
    <script
      defer
      src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"
    ></script>

    <!-- CSS  -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      href="../../css/materialize.css"
      type="text/css"
      rel="stylesheet"
      media="screen,projection"
    />
    <link
      href="../../css/style.css"
      type="text/css"
      rel="stylesheet"
      media="screen,projection"
    />
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script
      type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
    ></script>
    <style>
      body {
        background-image: url(https://cdn.hswstatic.com/gif/loan-personal.jpg);
      }
    </style>
  </head>

  <body>
    <nav class="red" role="navigation">
      <div class="nav-wrapper container">
        <a id="logo-container" href="#" class="brand-logo white-text"
          >Loan Calculator</a
        >
        <ul class="right hide-on-med-and-down">
          <li><a href="#" class="white-text">Navigation</a></li>
        </ul>

        <ul id="nav-mobile" class="sidenav">
          <li><a href="#">Navigation</a></li>
        </ul>
        <a href="#" data-target="nav-mobile" class="sidenav-trigger"
          ><i class="material-icons">menu</i></a
        >
      </div>
    </nav>

    <br /><br />

    <div class="row">
      <div class="col s0 m0 l1"></div>

      <div class="col s12 m12 l5">
        <div class="card white z-depth-3">
          <div class="card-content black-text">
            <h5>General Introduction</h5>
            <p>Welcome to the Loan Calculation Tool.</p>
            <p>
              Enter a loan amount, as well as the term of the loan and expected
              interest rate. We will then provide you with your expected monthly
              payment and total interest accrued over the length of the
              loan.<span id="Speed_text"></span>
            </p>
            <h5>Usage</h5>
            <p>
              This calculator provides the functionality to calculate car, home,
              and business loans.
            </p>
            <h5>Method</h5>
            <p>
              We begin by calculating the total amount owed over the course of
              the loan, given by the following formula: Total Payment = Loan
              Amount * (1 + Rate)$^{Years}$
            </p>
            <p>
              Next, we divide the total payment by the length of the loan in
              months to determine a monthly payment: Monthly Payment =
              $\frac{Total Payment}{12*years}$
            </p>
          </div>
        </div>
      </div>

      <div class="col s12 m12 l5">
        <div class="card white z-depth-3">
            <div class="card-content black-text">
                <h5>User Input</h5>
                <p>Please provide relevant information below </p>
            </div>
            <div class="card-action">

                <form id="loan-form">
                    <div class="row">

                        <div class="input-field col s6">
                            <input id="amount" name="amount" type="text" class="validate" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') ">
                            <label for="loan amount">Loan Amount ($)</label>
                        </div>
                        <div class="input-field col s6">
                            <input  id="years" name="years" type="text" class="validate" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') ">
                            <label for="period">Period (Years)</label>
                        </div>
                        <div class="input-field col s6">
                            <input  id="interest" name="interest" type="text" class="validate" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') ">
                            <label for="rate">Interest Rate (%) </label>
                        </div>

                        <p class="col s9"></p>

                        <button class="btn waves-effect waves-light col s3" type="submit" name="action">Submit
                                <i class="material-icons right">send</i>
                            </button>

                    </div>
                </form>
            </div>
        </div>
    </div>

</div>
<div class="col s12 m12 l5"></div>
<div class="card white z-depth-3">
    <h1 class="title ">Calculated Results</h1>
<div class="columns is-multiline">

<div class="column is-12-tablet is-6-desktop is-3-widescreen">
  <div class="notification is-primary has-text">
    <p id="monthlyPayment" class="title is-1">$</p>
    <p class="subtitle is-4">Monthly Payments</p>
  </div>
</div>

  <div class="column is-12-tablet is-6-desktop is-3-widescreen">
      <div class="notification is-info has-text">
        <p id="totalInterest" class="title is-1">%</p>
        <p class="subtitle is-4">Total Interest</p>
      </div>
    </div>

    <div class="column is-12-tablet is-6-desktop is-3-widescreen">
      <div class="notification is-link has-text">
        <p id="totalPayment" class="title is-1">$</p>
        <p class="subtitle is-4">Total Amount</p>
      </div>
    </div>

</div>
</div>
</div>

<br><br>
</div>
    <footer class="page-footer blue">
      <div class="container">
        <div class="row">
          <div class="col l6 s12">
            <h5 class="white-text">Bio</h5>
            <p class="grey-text text-lighten-4">
              Created by Shaokang Jiang, Ritika Mittal, Sai Teja Chokkarapu, and
              Peter Daly
            </p>
          </div>
          <div class="col l3 s12">
            <h5 class="white-text">Contacts</h5>
            <ul>
              <li>
                <a class="white-text" href="mailto:sjiang97@wisc.edu"
                  >Shaokang</a
                >
              </li>
              <li>
                <a class="white-text" href="mailto:rmittal6@wisc.edu">Ritika</a>
              </li>
              <li>
                <a class="white-text" href="mailto:chokkarapu@wisc.edu">Sai</a>
              </li>
              <li>
                <a class="white-text" href="mailto:pndaly@wisc.edu">Peter</a>
              </li>
            </ul>
          </div>
          <div class="col l3 s12">
            <h5 class="white-text">Connect</h5>
            <ul>
              <li><a class="white-text" href="#!">Shaokang</a></li>
              <li>
                <a
                  class="white-text"
                  href="https://www.linkedin.com/in/ritika-mittal-011ab2178/"
                  >Ritika</a
                >
              </li>
              <li>
                <a
                  class="white-text"
                  href="https://www.linkedin.com/in/chokkarapu/"
                  >Sai</a
                >
              </li>
              <li>
                <a
                  class="white-text"
                  href="https://www.linkedin.com/in/peterdaly13/"
                  >Peter</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-copyright">
        <div class="container">
          Made by
          <a class="red-text text-lighten-3" href="http://materializecss.com"
            >Materialize</a
          >
        </div>
      </div>
    </footer>

    <!--  Scripts-->
    <script src="../../js/materialize.js"></script>
    <script>
          document.getElementById("loan-form").addEventListener("submit",computeResults);
          function computeResults(e) {
            const UIamount = document.getElementById("amount").value;
            const UIinterest = document.getElementById("interest").value;
            const UIyears = document.getElementById("years").value;

      // Calculate

            const principal = parseFloat(UIamount);
            const CalculateInterest = parseFloat(UIinterest) / 100 / 12;
            const calculatedPayments = parseFloat(UIyears) * 12;

            //Compute monthly Payment

            const x = Math.pow(1 + CalculateInterest, calculatedPayments);
            const monthly = (principal * x * CalculateInterest) / (x - 1);
            const monthlyPayment = monthly.toFixed(2);

      //Compute Interest

            const totalInterest = (monthly * calculatedPayments - principal).toFixed(2);

            //Compute Total Payment

            const totalPayment = (monthly * calculatedPayments).toFixed(2);

      //Show results

            document.getElementById("monthlyPayment").innerHTML = "$" + monthlyPayment;

            document.getElementById("totalInterest").innerHTML = "%" + totalInterest;

            document.getElementById("totalPayment").innerHTML = "$" + totalPayment;

      e.preventDefault();
    }
    </script>
  </body>
</html>
